<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core">
    <Dialog title="Assign Resource" contentWidth="600px" class="sapUiContentPadding">
        
        <subHeader>
            <Toolbar>
                <SearchField id="skillFilter" placeholder="Search by Skill (e.g. Java, ABAP)" search="onSearchResources" width="100%"/>
            </Toolbar>
        </subHeader>

        <Table id="employeeTable" items="{staff>/}" mode="SingleSelectLeft">
            <columns>
                <Column><Text text="Employee"/></Column>
                <Column><Text text="Role"/></Column>
                <Column hAlign="Center"><Text text="Availability (Daily)"/></Column>
            </columns>
            <items>
                <ColumnListItem>
                    <cells>
                        <ObjectIdentifier 
                            title="{staff>firstName} {staff>lastName}" 
                            text="{staff>email}"/>
                        
                        <Text text="{staff>jobTitle}"/>
                        
                        <ObjectStatus 
                            text="{path: 'staff>dailyCapacity', formatter: '.formatter.availabilityText'}" 
                            state="{path: 'staff>dailyCapacity', formatter: '.formatter.availabilityState'}"
                            icon="{path: 'staff>dailyCapacity', formatter: '.formatter.availabilityIcon'}"/>
                    </cells>
                </ColumnListItem>
            </items>
        </Table>

        <beginButton>
            <Button text="Assign" type="Emphasized" press="onAssignEmployee"/>
        </beginButton>
        <endButton>
            <Button text="Cancel" press="onCloseResourceFinder"/>
        </endButton>
    </Dialog>
</core:FragmentDefinition>